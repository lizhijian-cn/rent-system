{"remainingRequest":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/babel-loader/lib/index.js!/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/src/views/list-housing/components/AreaSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/src/views/list-housing/components/AreaSelector.vue","mtime":1591349202948},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/cache-loader/dist/cjs.js","mtime":1590898200625},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/babel-loader/lib/index.js","mtime":1590898200625},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/cache-loader/dist/cjs.js","mtime":1590898200625},{"path":"/home/zhijian/fourth/javaweb/rent-system/rent-vue-2.0/node_modules/vue-loader/lib/index.js","mtime":1590898200561}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.find-index\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'AreaSelector',\n  data: function data() {\n    return {\n      provinceList: [],\n      // 省列表\n      cityList: [],\n      // 市列表\n      originList: [],\n      // 区列表\n      valueProvince: '',\n      // 所选的省\n      valueCity: '',\n      // 所选的市\n      valueOrigin: '',\n      // 所选的区\n      cityOptions: [],\n      // 市下拉框数据\n      originOptions: [] // 区下拉框数据\n\n    };\n  },\n  computed: {\n    selectedArea: function selectedArea() {\n      var _this = this;\n\n      // const provinceIndex = this.provinceList.findIndex(function({ value, label }) {\n      //   value === this.valueProvince\n      // })\n      var provinceIndex = this.provinceList.findIndex(function (_ref) {\n        var value = _ref.value,\n            label = _ref.label;\n        return value === _this.valueProvince;\n      });\n      var cityIndex = this.cityList.findIndex(function (_ref2) {\n        var value = _ref2.value,\n            label = _ref2.label;\n        return value === _this.valueCity;\n      });\n      var originIndex = this.originList.findIndex(function (_ref3) {\n        var value = _ref3.value,\n            label = _ref3.label;\n        return value === _this.valueOrigin;\n      });\n      return this.provinceList[provinceIndex].label;\n    }\n  },\n  methods: {\n    // 选择省\n    changeProvince: function changeProvince(val) {\n      var _this2 = this;\n\n      this.provinceList.forEach(function (province, index) {\n        if (val.toString() === _this2.provinceList[index].value) {\n          _this2.cityOptions = _this2.provinceList[index].children;\n          _this2.valueCity = _this2.provinceList[index].children[0].value;\n          _this2.originOptions = _this2.provinceList[index].children[0].children;\n          _this2.valueOrigin = _this2.provinceList[index].children[0].children[0].value;\n        }\n      });\n    },\n    // 选择市\n    changeCity: function changeCity(val) {\n      var _this3 = this;\n\n      this.cityList.forEach(function (city, index) {\n        if (val.toString() === _this3.cityList[index].value) {\n          _this3.originOptions = _this3.cityList[index].children;\n          _this3.valueOrigin = _this3.cityList[index].children[0].value;\n        }\n      });\n    },\n    // 选择区\n    changeOrigin: function changeOrigin(val) {\n      this.valueOrigin = val;\n    },\n    _getJsonData: function _getJsonData() {\n      var _this4 = this;\n\n      this.getRequest('@/../public/china_address_v4.json').then(function (res) {\n        if (!res) console.log('error');\n        _this4.provinceList = [];\n        _this4.cityList = [];\n        _this4.originList = [];\n        res.data.forEach(function (item) {\n          if (item.value.match(/0000$/)) {\n            _this4.provinceList.push({\n              value: item.value,\n              label: item.name,\n              children: []\n            });\n          } else if (item.value.match(/00$/)) {\n            _this4.cityList.push({\n              value: item.value,\n              label: item.name,\n              children: []\n            });\n          } else {\n            _this4.originList.push({\n              value: item.value,\n              label: item.name\n            });\n          }\n        });\n\n        for (var index in _this4.provinceList) {\n          for (var index1 in _this4.cityList) {\n            if (_this4.provinceList[index].value.slice(0, 2) === _this4.cityList[index1].value.slice(0, 2)) {\n              _this4.provinceList[index].children.push(_this4.cityList[index1]);\n            }\n          }\n        }\n\n        for (var item1 in _this4.cityList) {\n          for (var item2 in _this4.originList) {\n            if (_this4.originList[item2].value.slice(0, 4) === _this4.cityList[item1].value.slice(0, 4)) {\n              _this4.cityList[item1].children.push(_this4.originList[item2]);\n            }\n          }\n        }\n      });\n    }\n  },\n  created: function created() {\n    this._getJsonData();\n  }\n};",{"version":3,"sources":["AreaSelector.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-select v-model=\"valueProvince\" placeholder=\"请选择省\" @change=\"changeProvince\">\n      <el-option v-for=\"item in provinceList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n      </el-option>\n    </el-select>\n    <el-select v-model=\"valueCity\" placeholder=\"请选择市\" @change=\"changeCity\">\n      <el-option v-for=\"item in cityOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n      </el-option>\n    </el-select>\n    <el-select v-model=\"valueOrigin\" placeholder=\"请选择区\" @change=\"changeOrigin\">\n      <el-option v-for=\"item in originOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n      </el-option>\n    </el-select>\n    <el-button type=\"primary\" size=\"mini\" @click=\"$emit('select-area', selectedArea)\">确认</el-button>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'AreaSelector',\n    data() {\n      return {\n        provinceList: [], // 省列表\n        cityList: [], // 市列表\n        originList: [], // 区列表\n        valueProvince: '', // 所选的省\n        valueCity: '', // 所选的市\n        valueOrigin: '', // 所选的区\n        cityOptions: [], // 市下拉框数据\n        originOptions: [] // 区下拉框数据\n      }\n    },\n    computed: {\n      selectedArea() {\n        // const provinceIndex = this.provinceList.findIndex(function({ value, label }) {\n        //   value === this.valueProvince\n        // })\n        const provinceIndex = this.provinceList.findIndex(({ value, label }) => value === this.valueProvince)\n        const cityIndex = this.cityList.findIndex(({ value, label }) => value === this.valueCity)\n        const originIndex = this.originList.findIndex(({ value, label }) => value === this.valueOrigin)\n        return this.provinceList[provinceIndex].label\n      }\n    },\n    methods: {\n      // 选择省\n      changeProvince(val) {\n        this.provinceList.forEach((province, index) => {\n          if (val.toString() === this.provinceList[index].value) {\n            this.cityOptions = this.provinceList[index].children\n            this.valueCity = this.provinceList[index].children[0].value\n            this.originOptions = this.provinceList[index].children[0].children\n            this.valueOrigin = this.provinceList[index].children[0].children[0].value\n          }\n        })\n      },\n      // 选择市\n      changeCity(val) {\n        this.cityList.forEach((city, index) => {\n          if (val.toString() === this.cityList[index].value) {\n            this.originOptions = this.cityList[index].children\n            this.valueOrigin = this.cityList[index].children[0].value\n          }\n        })\n      },\n      // 选择区\n      changeOrigin(val) {\n        this.valueOrigin = val\n      },\n      _getJsonData() {\n        this.getRequest('@/../public/china_address_v4.json').then((res) => {\n          if (!res) console.log('error')\n          this.provinceList = []\n          this.cityList = []\n          this.originList = []\n          res.data.forEach((item) => {\n            if (item.value.match(/0000$/)) {\n              this.provinceList.push({\n                value: item.value,\n                label: item.name,\n                children: []\n              })\n            } else if (item.value.match(/00$/)) {\n              this.cityList.push({\n                value: item.value,\n                label: item.name,\n                children: []\n              })\n            } else {\n              this.originList.push({\n                value: item.value,\n                label: item.name\n              })\n            }\n          })\n          for (let index in this.provinceList) {\n            for (let index1 in this.cityList) {\n              if (this.provinceList[index].value.slice(0, 2) === this.cityList[index1].value.slice(0, 2)) {\n                this.provinceList[index].children.push(this.cityList[index1])\n              }\n            }\n          }\n          for (let item1 in this.cityList) {\n            for (let item2 in this.originList) {\n              if (this.originList[item2].value.slice(0, 4) === this.cityList[item1].value.slice(0, 4)) {\n                this.cityList[item1].children.push(this.originList[item2])\n              }\n            }\n          }\n        })\n      }\n    },\n    created() {\n      this._getJsonData()\n    }\n  }\n</script>"],"sourceRoot":"src/views/list-housing/components"}]}